<div class="container" style="margin-top: 100px;">

<h2>Planes de riego disponibles para seleccionar</h2>

<div class="row">
	<div class="col-sm-12">
		<a class="btn btn-primary btn-margin" routerLink="/irrigations-plans/new"> + Crear Plan de riego</a>
	</div>
</div>

<div class="card text-center">
	<table class="table">
		<thead>
		<tr>
			<th>#</th>
			<th>Plan de riego</th>
			<th>Minimo de humedad tolerable (en %)</th>
			<th>Iluminación tolerable</th>
			<th>Mínimo de temperatura tolerable (en ºC)</th>
			<th></th>
		</tr>
		</thead>
		<tbody>
		<tr *ngFor="let item of items" [ngClass]="{'selected': selectedItem?.irrigation_plan_id == item.irrigation_plan_id}">
			<td>{{ item.irrigation_plan_id }}</td>
			<td> {{ item.name }}</td>
			<td> {{ item.humidity_min_allowed }}</td>
			<!-- <td> {{ item.light_max_allowed }}</td> -->
			<td> <span class="icon">{{ item.light_max_allowed == '1' ? 'Alto nivel de iluminación' : 'Bajo nivel de iluminación' }} </span> </td>
			<td> {{ item.temperature_max_allowed }}</td>
			<td>
				<a class="btn btn-secondary" [routerLink]="['/irrigations-plans/' + item.irrigation_plan_id]"> Editar</a>
				<button class="btn btn-primary" (click)="selectItem(item)"> Seleccionar</button>
				<button class="btn btn-danger" (click)="deleteItem(item)"> Eliminar</button>
			</td>
		</tr>
		</tbody>
	</table> 
</div>

<div class="card text-center" *ngIf="selectedItem">
	<div class="card-header">
		PLAN CORRIENDO EN EL ARDUINO ACTUALMENTE: # {{selectedItem.irrigation_plan_id}}
	</div>
	<div class="card-block">
		<h4 class="card-title">{{selectedItem.name}}</h4>
		<p class="card-text">
		</p>   
	</div>
</div>